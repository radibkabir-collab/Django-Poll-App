{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ question.question_text }}</title>
    <link rel="stylesheet" href="{% static 'polls/style.css' %}">
</head>
<body>
    <div class="container">
        <h1 class="page-title">{{ question.question_text }}</h1>
        
        <form action="{% url 'polls:vote' question.id %}" method="post" class="vote-form">
            {% csrf_token %}
            
            {% if error_message %}
            <p class="error-message">{{ error_message }}</p>
            {% endif %}
            
            <div class="choices-container">
                {% for choice in question.choice_set.all %}
                <label class="choice-option">
                    <input type="radio" name="choice" value="{{ choice.id }}">
                    <span>{{ choice.choice_text }}</span>
                </label>
                {% endfor %}
                <button type="submit" class="btn">Vote</button>
            </div>
            
        </form>
        
        <div class="poll-summary">
            <h2>Poll Summary</h2>
            {% for choice in question.choice_set.all %}
            <div class="summary-item">
                <span class="choice-name">{{ choice.choice_text }}</span>
                <span class="vote-count">{{ choice.votes }} vote{{ choice.votes|pluralize }}</span>
            </div>
            {% endfor %}
            
            <div class="action-buttons">
                <a href="{% url 'polls:index' %}" class="btn">Back to Polls</a>
                <div class="action-buttons-right">
                    <a href="{% url 'polls:update' question.id %}" class="btn btn-update">Update Poll</a>
                    <a href="{% url 'polls:delete' question.id %}" class="btn btn-delete">Delete Poll</a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
